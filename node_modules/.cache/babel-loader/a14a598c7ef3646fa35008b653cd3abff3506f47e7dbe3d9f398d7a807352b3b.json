{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport socketIOClient from 'socket.io-client';\nconst ENDPOINT = \"http://localhost:8080\";\nconst useSocketHook = () => {\n  _s();\n  const [response, setResponse] = useState([]);\n  const socketRef = useRef();\n  useEffect(() => {\n    socketRef.current = socketIOClient(ENDPOINT);\n    socketRef.current.on(\"chat message\", data => {\n      setResponse(prevState => [...prevState, data]);\n    });\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, []);\n  const sendMessage = message => {\n    socketRef.current.emit(\"chat message\", message);\n  };\n  return {\n    response,\n    sendMessage\n  };\n};\n_s(useSocketHook, \"WmBb7NGgg1BcCPnu8J1UBUZGlbc=\");\nexport default useSocketHook;","map":{"version":3,"names":["useEffect","useState","useRef","socketIOClient","ENDPOINT","useSocketHook","_s","response","setResponse","socketRef","current","on","data","prevState","disconnect","sendMessage","message","emit"],"sources":["C:/Users/Shawn/chat/src/useSocket.js"],"sourcesContent":["import {useEffect, useState, useRef} from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nconst ENDPOINT = \"http://localhost:8080\";\r\n\r\nconst useSocketHook = () => {\r\n    const [response, setResponse] = useState([]);\r\n    const socketRef = useRef();\r\n\r\n    useEffect(() => {\r\n        socketRef.current = socketIOClient(ENDPOINT);\r\n        socketRef.current.on(\"chat message\", data => {\r\n            setResponse(prevState => [...prevState, data]);\r\n        });\r\n\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    },[]) \r\n    \r\n    const sendMessage = (message) => {\r\n        socketRef.current.emit(\"chat message\", message);\r\n    }\r\n\r\n    return {response, sendMessage};\r\n};\r\n\r\n\r\nexport default useSocketHook;"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAO,OAAO;AACjD,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMQ,SAAS,GAAGP,MAAM,CAAC,CAAC;EAE1BF,SAAS,CAAC,MAAM;IACZS,SAAS,CAACC,OAAO,GAAGP,cAAc,CAACC,QAAQ,CAAC;IAC5CK,SAAS,CAACC,OAAO,CAACC,EAAE,CAAC,cAAc,EAAEC,IAAI,IAAI;MACzCJ,WAAW,CAACK,SAAS,IAAI,CAAC,GAAGA,SAAS,EAAED,IAAI,CAAC,CAAC;IAClD,CAAC,CAAC;IAEF,OAAO,MAAM;MACTH,SAAS,CAACC,OAAO,CAACI,UAAU,CAAC,CAAC;IAClC,CAAC;EACL,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMC,WAAW,GAAIC,OAAO,IAAK;IAC7BP,SAAS,CAACC,OAAO,CAACO,IAAI,CAAC,cAAc,EAAED,OAAO,CAAC;EACnD,CAAC;EAED,OAAO;IAACT,QAAQ;IAAEQ;EAAW,CAAC;AAClC,CAAC;AAACT,EAAA,CApBID,aAAa;AAuBnB,eAAeA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}